<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Hand Unlock âœ‹ðŸ’–</title>

<style>
  body {
    margin: 0;
    background: black;
    overflow: hidden;
    font-family: Poppins, sans-serif;
    color: white;
  }

  video {
    position: fixed;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    transform: scaleX(-1);
  }

  .overlay {
    position: fixed;
    inset: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    pointer-events: none;
  }

  .card {
    background: rgba(0,0,0,0.6);
    padding: 30px;
    border-radius: 20px;
    text-align: center;
    display: none;
    animation: pop 0.6s ease;
  }

  @keyframes pop {
    from { transform: scale(0); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
  }

  h1 { color: pink; }
</style>
</head>

<body>

<video id="video" autoplay playsinline></video>

<div class="overlay">
  <div class="card" id="surprise">
    <h1>ðŸŽ‰ UNLOCKED ðŸŽ‰</h1>
    <p>Telapak tangan terdeteksi âœ‹</p>
    <p>Ini khusus buat kamu ðŸ’–</p>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>

<script>
const video = document.getElementById("video");
const surprise = document.getElementById("surprise");
let unlocked = false;

const hands = new Hands({
  locateFile: file =>
    `https://cdn.jsdelivr.net/npm/@mediapipe/hands/${file}`
});

hands.setOptions({
  maxNumHands: 1,
  modelComplexity: 1,
  minDetectionConfidence: 0.7,
  minTrackingConfidence: 0.7
});

hands.onResults(results => {
  if (!results.multiHandLandmarks.length || unlocked) return;

  const lm = results.multiHandLandmarks[0];

  // ujung jari
  const tips = [4, 8, 12, 16, 20];
  // sendi bawah jari
  const pips = [3, 6, 10, 14, 18];

  let fingersOpen = 0;

  for (let i = 0; i < tips.length; i++) {
    if (lm[tips[i]].y < lm[pips[i]].y) {
      fingersOpen++;
    }
  }

  // kalau 5 jari terbuka
  if (fingersOpen === 5) {
    unlocked = true;
    surprise.style.display = "block";
  }
});

const camera = new Camera(video, {
  onFrame: async () => {
    await hands.send({ image: video });
  },
  width: 640,
  height: 480
});

camera.start();
</script>

</body>
</html>
